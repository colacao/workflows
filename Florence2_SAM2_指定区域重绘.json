{"last_node_id":32,"last_link_id":42,"nodes":[{"id":28,"type":"VAEEncode","pos":[872.243408203125,444.3551940917969],"size":[148.5076904296875,46],"flags":{},"order":7,"mode":0,"inputs":[{"name":"pixels","localized_name":"像素","type":"IMAGE","link":37},{"name":"vae","localized_name":"vae","type":"VAE","link":27}],"outputs":[{"name":"LATENT","localized_name":"Latent","type":"LATENT","links":[29],"slot_index":0}],"properties":{"Node name for S&R":"VAEEncode"},"widgets_values":[]},{"id":2,"type":"DownloadAndLoadFlorence2Model","pos":[435.6971435546875,422.39337158203125],"size":[393.2178955078125,106],"flags":{},"order":0,"mode":0,"inputs":[{"name":"lora","localized_name":"lora","type":"PEFTLORA","shape":7,"link":null}],"outputs":[{"name":"florence2_model","localized_name":"florence2_model","type":"FL2MODEL","links":[1]}],"properties":{"Node name for S&R":"DownloadAndLoadFlorence2Model","cnr_id":"comfyui-florence2","ver":"1.0.3"},"widgets_values":["microsoft/Florence-2-base","fp16","sdpa"]},{"id":24,"type":"CheckpointLoader|pysssss","pos":[394.081298828125,-120.85150146484375],"size":[315,142],"flags":{},"order":1,"mode":0,"inputs":[],"outputs":[{"name":"MODEL","localized_name":"模型","type":"MODEL","links":[22]},{"name":"CLIP","localized_name":"CLIP","type":"CLIP","links":[23,24],"slot_index":1},{"name":"VAE","localized_name":"VAE","type":"VAE","links":[27,33],"slot_index":2},{"name":"example","localized_name":"example","type":"STRING","links":null}],"properties":{"Node name for S&R":"CheckpointLoader|pysssss"},"widgets_values":["Realistic Vision_V2.0_v1.0.safetensors","","[none]"]},{"id":25,"type":"CLIPTextEncode","pos":[739.5225219726562,-284.2770690917969],"size":[400,200],"flags":{},"order":4,"mode":0,"inputs":[{"name":"clip","localized_name":"clip","type":"CLIP","link":23}],"outputs":[{"name":"CONDITIONING","localized_name":"条件","type":"CONDITIONING","links":[25],"slot_index":0}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["1man face"],"color":"#232","bgcolor":"#353"},{"id":32,"type":"Image Comparer (rgthree)","pos":[1514.489990234375,-284.8214416503906],"size":[349.1499328613281,551.1099853515625],"flags":{},"order":17,"mode":0,"inputs":[{"name":"image_a","type":"IMAGE","dir":3,"link":40},{"name":"image_b","type":"IMAGE","dir":3,"link":39}],"outputs":[],"properties":{"comparer_mode":"Slide"},"widgets_values":[[{"name":"A","selected":true,"url":"/api/view?filename=rgthree.compare._temp_gcpvk_00041_.png&type=temp&subfolder=&rand=0.8765652054438438"},{"name":"B","selected":true,"url":"/api/view?filename=rgthree.compare._temp_gcpvk_00042_.png&type=temp&subfolder=&rand=0.3203397958694283"}]]},{"id":30,"type":"VAEDecode","pos":[1172.5621337890625,-293.9729309082031],"size":[303.7023010253906,47.46411895751953],"flags":{},"order":16,"mode":0,"inputs":[{"name":"samples","localized_name":"Latent","type":"LATENT","link":31},{"name":"vae","localized_name":"vae","type":"VAE","link":33}],"outputs":[{"name":"IMAGE","localized_name":"图像","type":"IMAGE","links":[39],"slot_index":0}],"properties":{"Node name for S&R":"VAEDecode"},"widgets_values":[]},{"id":26,"type":"CLIPTextEncode","pos":[732.4890747070312,-17.420602798461914],"size":[400,200],"flags":{},"order":5,"mode":0,"inputs":[{"name":"clip","localized_name":"clip","type":"CLIP","link":24}],"outputs":[{"name":"CONDITIONING","localized_name":"条件","type":"CONDITIONING","links":[26],"slot_index":0}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["(normal quality,worst quality,low quality:1.9),cartoon,low resolution,(twisted fingers,malformed hands,fusion of hands,a deformed foot,huge hands,extra fingers,missing fingers,fused fingers,extra limb,bad anatomy,independent limb,disconnected limbs,disconnected limbs,amputation,overlapping fingers:0.9),bw:0.4,skin blemishes,"],"color":"#322","bgcolor":"#533"},{"id":1,"type":"Florence2Run","pos":[432.8905944824219,596.2266235351562],"size":[400,364],"flags":{},"order":6,"mode":0,"inputs":[{"name":"image","localized_name":"image","type":"IMAGE","link":6},{"name":"florence2_model","localized_name":"florence2_model","type":"FL2MODEL","link":1}],"outputs":[{"name":"image","localized_name":"image","type":"IMAGE","links":[2],"slot_index":0},{"name":"mask","localized_name":"mask","type":"MASK","links":[],"slot_index":1},{"name":"caption","localized_name":"caption","type":"STRING","links":null,"slot_index":2},{"name":"data","localized_name":"data","type":"JSON","links":[12],"slot_index":3}],"properties":{"Node name for S&R":"Florence2Run","cnr_id":"comfyui-florence2","ver":"1.0.3"},"widgets_values":["face","caption_to_phrase_grounding",true,false,1024,3,true,"",766181217262506,"randomize"],"color":"#232","bgcolor":"#353"},{"id":16,"type":"Florence2toCoordinates","pos":[446.0106506347656,1007.1365356445312],"size":[383.812744140625,102],"flags":{},"order":9,"mode":0,"inputs":[{"name":"data","localized_name":"data","type":"JSON","link":12}],"outputs":[{"name":"center_coordinates","localized_name":"center_coordinates","type":"STRING","links":null},{"name":"bboxes","localized_name":"bboxes","type":"BBOX","links":[13],"slot_index":1}],"properties":{"Node name for S&R":"Florence2toCoordinates"},"widgets_values":["0",false]},{"id":21,"type":"PreviewImage","pos":[1581.6234130859375,555.650634765625],"size":[265.6357421875,456.8303527832031],"flags":{},"order":15,"mode":0,"inputs":[{"name":"images","localized_name":"图像","type":"IMAGE","link":19}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":4,"type":"PreviewImage","pos":[1260.5657958984375,595.1233520507812],"size":[271.4920959472656,465.6150207519531],"flags":{},"order":8,"mode":0,"inputs":[{"name":"images","localized_name":"图像","type":"IMAGE","link":2}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage","cnr_id":"comfy-core","ver":"0.3.18"},"widgets_values":[]},{"id":20,"type":"MaskToImage","pos":[1271.3746337890625,511.2514343261719],"size":[210,26],"flags":{"collapsed":false},"order":13,"mode":0,"inputs":[{"name":"mask","localized_name":"遮罩","type":"MASK","link":42}],"outputs":[{"name":"IMAGE","localized_name":"图像","type":"IMAGE","links":[19],"slot_index":0}],"properties":{"Node name for S&R":"MaskToImage"},"widgets_values":[]},{"id":29,"type":"SetLatentNoiseMask","pos":[1050.4539794921875,439.9076232910156],"size":[140,46],"flags":{},"order":12,"mode":0,"inputs":[{"name":"samples","localized_name":"Latent","type":"LATENT","link":29},{"name":"mask","localized_name":"遮罩","type":"MASK","link":28}],"outputs":[{"name":"LATENT","localized_name":"Latent","type":"LATENT","links":[30],"slot_index":0}],"properties":{"Node name for S&R":"SetLatentNoiseMask"},"widgets_values":[]},{"id":19,"type":"DownloadAndLoadSAM2Model","pos":[869.1844482421875,710.6149291992188],"size":[315,130],"flags":{},"order":2,"mode":0,"inputs":[],"outputs":[{"name":"sam2_model","localized_name":"sam2_model","type":"SAM2MODEL","links":[17]}],"properties":{"Node name for S&R":"DownloadAndLoadSAM2Model"},"widgets_values":["sam2_hiera_large.safetensors","single_image","cuda","fp16"]},{"id":7,"type":"LoadImage","pos":[-122.20862579345703,159.48187255859375],"size":[315,314],"flags":{},"order":3,"mode":0,"inputs":[],"outputs":[{"name":"IMAGE","localized_name":"图像","type":"IMAGE","links":[6,37,38,40],"slot_index":0},{"name":"MASK","localized_name":"遮罩","type":"MASK","links":null}],"properties":{"Node name for S&R":"LoadImage","cnr_id":"comfy-core","ver":"0.3.18"},"widgets_values":["1.png","image"]},{"id":27,"type":"KSampler","pos":[1163.775634765625,-196.74688720703125],"size":[315,474],"flags":{},"order":14,"mode":0,"inputs":[{"name":"model","localized_name":"模型","type":"MODEL","link":22},{"name":"positive","localized_name":"正面条件","type":"CONDITIONING","link":25},{"name":"negative","localized_name":"负面条件","type":"CONDITIONING","link":26},{"name":"latent_image","localized_name":"Latent图像","type":"LATENT","link":30}],"outputs":[{"name":"LATENT","localized_name":"Latent","type":"LATENT","links":[31],"slot_index":0}],"properties":{"Node name for S&R":"KSampler"},"widgets_values":[246155192981784,"randomize",20,8,"euler","normal",0.45000000000000007]},{"id":14,"type":"MaskBlur+","pos":[880.0071411132812,568.0581665039062],"size":[315,82],"flags":{},"order":11,"mode":0,"inputs":[{"name":"mask","localized_name":"mask","type":"MASK","link":10}],"outputs":[{"name":"MASK","localized_name":"遮罩","type":"MASK","links":[28,42],"slot_index":0}],"properties":{"Node name for S&R":"MaskBlur+"},"widgets_values":[160,"auto"]},{"id":12,"type":"Sam2Segmentation","pos":[875.7080078125,881.8338012695312],"size":[315,230],"flags":{},"order":10,"mode":0,"inputs":[{"name":"sam2_model","localized_name":"sam2_model","type":"SAM2MODEL","link":17},{"name":"image","localized_name":"image","type":"IMAGE","link":38},{"name":"bboxes","localized_name":"bboxes","type":"BBOX","shape":7,"link":13},{"name":"mask","localized_name":"mask","type":"MASK","shape":7,"link":null},{"name":"coordinates_positive","type":"STRING","shape":7,"widget":{"name":"coordinates_positive"},"link":null},{"name":"coordinates_negative","type":"STRING","shape":7,"widget":{"name":"coordinates_negative"},"link":null}],"outputs":[{"name":"mask","localized_name":"mask","type":"MASK","links":[10],"slot_index":0}],"properties":{"Node name for S&R":"Sam2Segmentation"},"widgets_values":[true,"","",true]}],"links":[[1,2,0,1,1,"FL2MODEL"],[2,1,0,4,0,"IMAGE"],[6,7,0,1,0,"IMAGE"],[10,12,0,14,0,"MASK"],[12,1,3,16,0,"JSON"],[13,16,1,12,2,"BBOX"],[17,19,0,12,0,"SAM2MODEL"],[19,20,0,21,0,"IMAGE"],[22,24,0,27,0,"MODEL"],[23,24,1,25,0,"CLIP"],[24,24,1,26,0,"CLIP"],[25,25,0,27,1,"CONDITIONING"],[26,26,0,27,2,"CONDITIONING"],[27,24,2,28,1,"VAE"],[28,14,0,29,1,"MASK"],[29,28,0,29,0,"LATENT"],[30,29,0,27,3,"LATENT"],[31,27,0,30,0,"LATENT"],[33,24,2,30,1,"VAE"],[37,7,0,28,0,"IMAGE"],[38,7,0,12,1,"IMAGE"],[39,30,0,32,1,"IMAGE"],[40,7,0,32,0,"IMAGE"],[42,14,0,20,0,"MASK"]],"groups":[{"id":1,"title":"识别","bounding":[396.9464416503906,336.4480895996094,1445.97705078125,813.5140991210938],"color":"#3f789e","font_size":24,"flags":{}},{"id":2,"title":"画图","bounding":[365.175537109375,-367.0516357421875,1520.6463623046875,662.7117309570312],"color":"#3f789e","font_size":24,"flags":{}}],"config":{},"extra":{"ds":{"scale":0.6830134553650706,"offset":[424.0123124677279,357.7734343991091]},"ue_links":[]},"version":0.4}